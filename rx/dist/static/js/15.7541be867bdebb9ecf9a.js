webpackJsonp([15],{PoPl:function(t,e){},TbEx:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"order",props:["order"],data:function(){return{popupVisible:!1,activeButton:{color:"#00ADB3",borderColor:"#00ADB3"}}},created:function(){console.log(this.order)},computed:{},methods:{emitOrder:function(){this.$emit("update:order",this.order)},onCancel:function(){var t=this;this.$http.put("/orders/"+this.order.id+"/close").then(function(e){t.order.state="CLOSED",t.emitOrder()}).catch(function(e){t.exception(e)})},onDrug:function(t){this.$router.push({path:"/shopDrugSpecs",query:{shopDrugSpecId:t.shopDrugSpecId}})},onRx:function(){this.$router.push({path:"/rxs/view",query:{rxId:this.order.rxId}})},onShop:function(){switch(this.order.type){case"HOSPITAL":this.$router.push({path:"/hospital/view",query:{shopId:this.order.shopId}});break;default:this.$router.push({path:"/shops/view",query:{shopId:this.order.shopId}})}},onDetail:function(){this.$router.push({path:"/orders/view",query:{orderId:this.order.id}})},onPay:function(){this.$router.push({path:"/orders/pay",query:{orderIds:this.order.id}})},onRefund:function(){this.$router.push({path:"/orderRefunds/create",query:{orderId:this.order.id}})},onDelivery:function(){this.$router.push({path:"/orders/delivery",query:{orderId:this.order.id}})},onAppraise:function(){this.$router.push({path:"/drugAppraises/create",query:{orderId:this.order.id}})},onRemind:function(){this.$toast("提醒发货成功!")},onConfirm:function(){var t=this;this.$http.put("/orders/"+this.order.id+"/complete").then(function(e){"HOSPITAL"===t.order.type?t.order.state="COMPLETED":t.order.state="TO_APPRAISE",t.emitOrder()}).catch(function(e){t.exception(e)})}}},o={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order_item"},[r("div",{staticClass:"order_item-title"},[r("div",{staticClass:"order_item-title-left",on:{click:function(e){t.onShop()}}},[t._m(0),t._v(" "),r("div",{staticClass:"order_item-title-left_name",domProps:{textContent:t._s(t.order.shopName)}})]),t._v(" "),r("div",{staticClass:"order_item-title-right",domProps:{textContent:t._s(t.transformOrderStateSec(t.order.state,t.order.refundState,this))}})]),t._v(" "),r("div",{staticClass:"order_item-content"},[t.isRx(t.order.rxId)?r("div",{staticClass:"order_item-content-title"},[t._m(1),t._v(" "),r("div",{staticClass:"order_item-content-title-right",on:{click:function(e){t.onRx()}}},[t._v("查看处方>\n      ")])]):t._e(),t._v(" "),t._l(t.order.list,function(e){return r("div",{staticClass:"order_item-content-info"},[r("div",{staticClass:"order_item-content-info-left"},[e.otc?t._e():r("div",{staticClass:"rx_mark"},[t._v("处")]),t._v(" "),r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImgURL(e.fileId,"LARGE_LOGO"),expression:"getImgURL(item.fileId,'LARGE_LOGO')"}]})]),t._v(" "),r("div",{staticClass:"order_item-content-info-right"},[r("div",[r("div",{staticClass:"order_item-content-info-right_name",domProps:{textContent:t._s(e.name)}}),t._v(" "),r("div",{staticClass:"order_item-content-info-right_spec",domProps:{textContent:t._s(e.spec)}})]),t._v(" "),r("div",[r("div",{staticClass:"order_item-content-info-right_price"},[t._v("\n            ¥"+t._s(e.price)+"\n          ")]),t._v(" "),r("div",{staticClass:"order_item-content-info-right_quantity"},[t._v("\n            x"+t._s(e.quantity)+"\n          ")])])])])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont ic-yaodian"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"order_item-content-title-left"},[e("div",[e("i",{staticClass:"iconfont ic-chufangdanluru"})]),this._v(" "),e("div",{staticClass:"order_item-content-title-left_name"},[this._v("处方单")])])}]};var s=r("VU/8")(i,o,!1,function(t){r("PoPl")},"data-v-f88f66c8",null);e.default=s.exports}});