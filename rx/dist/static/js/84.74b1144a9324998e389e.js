webpackJsonp([84],{LcpH:function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i={name:"shop",data:function(){return{list:[],shopInfo:[],shopId:this.$route.query.shopId,colloct:!1,drugTypes:[]}},created:function(){var t=this;this.$http.get("/shops/"+this.shopId+"/drugs/recommend").then(function(o){t.list=o.data,console.log(o.data)}).catch(function(o){t.exception(o)}),this.$http.get("/shops/"+this.shopId).then(function(o){t.shopInfo=o.data}).catch(function(o){t.exception(o)}),this.$http.get("/collects/shop/one?&shopId="+this.shopId).then(function(o){o.data?t.colloct=!0:t.colloct=!1}).catch(function(o){t.exception(o)}),this.$http.get("/drugTypes").then(function(o){t.drugTypes=o.data}).catch(function(o){t.exception(o)})},mounted:function(){},methods:{collect:function(){var t=this;this.colloct=!this.colloct;var o={shopId:this.shopId,collected:this.colloct};this.$http.post("/collects/shop",o).then(function(o){t.colloct?t.$toast("收藏成功"):t.$toast("取消收藏成功")}).catch(function(o){t.exception(o)})}}},e={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("new-layout",{staticClass:"shop_view"},[s("van-nav-bar",{attrs:{slot:"top",title:t.$route.name,"left-arrow":""},on:{"click-left":function(o){t.$router.go(-1)}},slot:"top"}),t._v(" "),s("div",{staticClass:"shop_view-content",attrs:{slot:"center"},slot:"center"},[s("div",{staticClass:"shop_view-info"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImgURL(t.shopInfo.logo,"SMALL_LOGO"),expression:"getImgURL(shopInfo.logo, 'SMALL_LOGO')"}]}),t._v(" "),s("div",{staticClass:"shop_view-info-name"},[t._v(t._s(t.shopInfo.name))]),t._v(" "),s("div",{staticClass:"shop_view-info-collect",style:{backgroundColor:t.colloct?"red":"#BFBFBF"},domProps:{textContent:t._s(t.colloct?"已收藏":"未收藏")},on:{click:t.collect}})]),t._v(" "),s("div",{staticClass:"shop_view-score"},[s("div",{staticClass:"shop_view-score-info"},[s("div",[t._v(t._s(t.shopInfo.describeScore)+"分")]),t._v(" "),s("div",[t._v("客户服务")])]),t._v(" "),s("div",{staticClass:"shop_view-score-cut_line"}),t._v(" "),s("div",{staticClass:"shop_view-score-info"},[s("div",[t._v(t._s(t.toFixedOne(t.shopInfo.deliveryScore))+"分")]),t._v(" "),s("div",[t._v("发货速度")])]),t._v(" "),s("div",{staticClass:"shop_view-score-cut_line"}),t._v(" "),s("div",{staticClass:"shop_view-score-info"},[s("div",[t._v(t._s(t.toFixedOne(t.shopInfo.serviceScore))+"分")]),t._v(" "),s("div",[t._v("物流速度")])]),t._v(" "),s("div",{staticClass:"shop_view-score-cut_line"}),t._v(" "),s("div",{staticClass:"shop_view-score-info"},[s("div",[t._v(t._s(t.toFixedOne(t.shopInfo.packageScore))+"分")]),t._v(" "),s("div",[t._v("商品包装")])])]),t._v(" "),s("div",{staticClass:"shop_view-drug_type"},t._l(t.drugTypes,function(o){return s("div",{on:{click:function(s){t.linkToShopDrugs(t.shopId,o.id)}}},[t._v("\n        "+t._s(o.type)+"\n      ")])})),t._v(" "),s("div",{staticClass:"shop_view-recommend_title"},[s("div"),t._v(" "),s("div",[t._v("商家推荐")]),t._v(" "),s("div")]),t._v(" "),s("div",{staticClass:"shop_view-recommend_list"},t._l(t.list,function(o){return s("div",{staticClass:"shop_view-recommend_list-item",on:{click:function(s){t.linkToShopDrugSpec(o.id)}}},[s("div",{staticClass:"shop_view-recommend_list-item_logo"},[o.otc?t._e():s("div",{staticClass:"rx_mark"},[t._v("处")]),t._v(" "),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImgURL(o.fileId,"LARGE_LOGO"),expression:"getImgURL(recommend.fileId, 'LARGE_LOGO')"}]})]),t._v(" "),s("div",{staticClass:"shop_view-recommend_list-item_name"},[t._v(t._s(o.name))]),t._v(" "),s("div",{staticClass:"shop_view-recommend_list-item_price"},[t._v("¥"+t._s(t.toFixedTwo(o.price)))])])}))]),t._v(" "),s("div",{staticClass:"shop_view-footer",attrs:{slot:"bottom"},slot:"bottom"},[s("div",{on:{click:function(o){t.linkToShopInfo(t.shopId)}}},[t._v("\n        商家介绍\n      ")]),t._v(" "),s("div",{on:{click:function(o){t.linkToShopDrugs(t.shopId)}}},[t._v("\n        全部商品\n      ")])])],1)},staticRenderFns:[]};var c=s("VU/8")(i,e,!1,function(t){s("X6v6")},"data-v-01684721",null);o.default=c.exports},X6v6:function(t,o){}});