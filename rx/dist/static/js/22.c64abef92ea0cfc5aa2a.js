webpackJsonp([22],{VYpY:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"repositories",data:function(){return{loading:!1,finished:!1,isLoading:!1,pageNum:0,pageSize:15,list:[],repositoryTypeId:this.$route.query.repositoryTypeId,title:this.$route.query.title}},created:function(){},mounted:function(){},methods:{onRefresh:function(){this.finished=!1,this.list=[],this.pageNum=0,this.onLoad()},onLoad:function(){var t=this;this.pageNum++,this.$http.get("/repositories/",{params:{pageNum:this.pageNum,pageSize:this.pageSize,repositoryTypeId:this.repositoryTypeId}}).then(function(e){t.isLoading=!1,t.loading=!1,t.list=t.list.concat(e.data.list),console.log(t.list),0===e.data.list.length&&(t.finished=!0)}).catch(function(e){t.exception(e)})}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("new-layout",{staticClass:"repositories"},[i("van-nav-bar",{attrs:{slot:"top",title:t.title,"left-arrow":""},on:{"click-left":function(e){t.$router.go(-1)},"click-right":function(e){t.$router.push("/messageTypes")}},slot:"top"},[i("van-icon",{attrs:{slot:"right",name:"chat"},slot:"right"})],1),t._v(" "),i("div",{attrs:{slot:"center"},slot:"center"},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._l(t.list,function(e,o){return i("div",{key:o,staticClass:"repositories--item van-hairline--bottom",on:{click:function(i){t.$router.push({path:"/repositories/view",query:{id:e.id,repositoryTypeId:t.repositoryTypeId,title:t.title,pageNum:o+1}})}}},[i("div",{staticClass:"repositories--item__top"},[i("span",[t._v("\n              "+t._s(e.title)+"\n            ")]),t._v(" "),i("van-icon",{attrs:{name:"arrow",color:"#999999"}})],1),t._v(" "),i("div",{staticClass:"repositories--item__bottom"},[t._v("\n            "+t._s(t.delHtmlTag(e.content))+"\n          ")])])}),t._v(" "),i("new-no-data",{directives:[{name:"show",rawName:"v-show",value:!0===t.finished,expression:"finished === true"}]})],2)],1)],1)],1)},staticRenderFns:[]};var n=i("VU/8")(o,s,!1,function(t){i("upZ8")},"data-v-cfc53674",null);e.default=n.exports},upZ8:function(t,e){}});