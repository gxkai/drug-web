webpackJsonp([42],{kv45:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"repositioning"}},[s("new-header",[s("div",{attrs:{slot:"left"},slot:"left"},[s("i",{staticClass:"iconfont ic-arrow-right",on:{click:function(i){t.$router.go(-1)}}})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"header-input iconfont",attrs:{slot:"center",placeholder:t.searchIcon},domProps:{value:t.inputVal},on:{keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;t.search()},input:function(i){i.target.composing||(t.inputVal=i.target.value)}},slot:"center"}),t._v(" "),s("span",{staticClass:"text-l-25",attrs:{slot:"right"},on:{click:function(i){t.search()}},slot:"right"},[t._v("搜索")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.Maps,expression:"Maps"}]},[s("baidu-map",{staticClass:"map",attrs:{center:t.center,zoom:15}},[s("bm-marker",{attrs:{position:t.center,dragging:!0,animation:"BMAP_ANIMATION_BOUNCE"}})],1),t._v(" "),s("div",{staticClass:"nearby"},[s("span",{staticClass:"title"},[t._v("附近地址")]),t._v(" "),s("ul",t._l(t.positionList,function(i,n){return s("li",{key:n,on:{click:function(i){t.near(n)}}},[s("div",{staticClass:"line1"},[s("i",{staticClass:"iconfont ic-weizhi"}),t._v(" "),s("span",[t._v(t._s(i.name))])]),t._v(" "),s("div",{staticClass:"line2"},[s("span",[t._v(t._s(i.address))])]),t._v(" "),s("div",{staticClass:"dividing"})])}))])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.Librarys,expression:"Librarys"}],staticClass:"library"},[s("ul",t._l(t.libraryList,function(i,n){return s("li",{key:n,on:{click:function(i){t.onLibrary(n)}}},[s("div",{staticClass:"line1"},[s("i",{staticClass:"iconfont ic-weizhi"}),t._v(" "),s("span",[t._v(t._s(i.name))])]),t._v(" "),s("div",{staticClass:"line2"},[s("span",[t._v(t._s(i.district))])]),t._v(" "),s("div",{staticClass:"dividing"})])}))])],1)},staticRenderFns:[]};var a=s("VU/8")({name:"repositioning",data:function(){return{center:this.$store.getters.position,zoom:3,Maps:!1,Librarys:!1,inputVal:"",positionList:[],libraryList:[],searchIcon:" 手动定位"}},watch:{inputVal:function(t){t||this.showMap(!0)}},methods:{search:function(){var t=this,i=this.$outside+"/baidu/places.json?query="+this.inputVal;this.$http.get(i).then(function(i){t.libraryList=i.data.result,t.showMap(!1)}).catch(function(i){t.exception(i)})},onLibrary:function(t){var i={lat:this.libraryList[t].location.lat,lng:this.libraryList[t].location.lng,name:this.libraryList[t].name};this.$store.commit("SET_POSITION",i),this.$router.go(-1)},near:function(t){var i={lat:this.positionList[t].location.lat,lng:this.positionList[t].location.lng,name:this.positionList[t].name};this.$store.commit("SET_POSITION",i),this.$router.go(-1)},getPositionList:function(){var t=this,i=this.$outside+"/baidu/maps.json?lat="+this.center.lat+"&lng="+this.center.lng+"&poi=true&coordType=bd09ll";this.$http.get(i).then(function(i){t.positionList=i.data.pois,t.showMap(!0)}).catch(function(i){t.exception(i)})},showMap:function(t){this.Maps=t,this.Librarys=!t}},created:function(){this.getPositionList()}},n,!1,function(t){s("v4Ji")},"data-v-6d2970b4",null);i.default=a.exports},v4Ji:function(t,i){}});